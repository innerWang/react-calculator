(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(42)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(23),l=a.n(s),c=a(9),o=a(10),i=a(13),u=a(11),p=a(14),h=a(46),f=a(44),m=a(48),d=a(47),v=a(45),b=a(12),g=[{value:"CE",type:"operator clear"},{value:"%",type:"operator percent"},{value:"DEL",type:"operator delete"},{value:"\xf7",type:"math-operator divide"},{value:"7",type:"number"},{value:"8",type:"number"},{value:"9",type:"number"},{value:"\xd7",type:"math-operator multiply"},{value:"4",type:"number"},{value:"5",type:"number"},{value:"6",type:"number"},{value:"-",type:"math-operator minus"},{value:"1",type:"number"},{value:"2",type:"number"},{value:"3",type:"number"},{value:"+",type:"math-operator add"},{value:"\xb1",type:"operator toggle"},{value:"0",type:"number"},{value:".",type:"number dot"},{value:"=",type:"math-operator equal"}],y={"+":1,"-":1,"*":2,"/":2,"(":20,")":20},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},O=function(e){var t=0;if(Math.abs(e)>Math.pow(10,5)){var a=Math.floor(Math.log(Math.abs(e))/Math.log(10)),r=Math.abs(e)/Math.pow(10,a);r=E(r,7),t=e>0?"".concat(r,"e").concat(a):"-".concat(r,"e").concat(a)}else if(Math.abs(e)<1)if((Math.abs(e)+"").length>10){var n=E(Math.abs(e),8);t=e>0?"".concat(n):"-".concat(n)}else t=e+"";else if((Math.abs(e)+"").length>12){var s=E(Math.abs(e),5);t=e>0?"".concat(s):"-".concat(s)}else t=e+"";return t},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length?"":1===e.length?e[0]:function(e){var t=[],a=0,r=0;return Array.isArray(e)?(e.forEach(function(e){if(isNaN(e)){if(e.match(/^[+\-*\/]$/)){if(t.length<2)return"\u6ca1\u6709\u8db3\u591f\u7684\u64cd\u4f5c\u6570";switch(r=t.pop(),a=t.pop(),e){case"+":t.push(a+r);break;case"-":t.push(a-r);break;case"*":t.push(a*r);break;case"/":t.push(a/r)}}}else t.push(parseFloat(e))}),O(t[0])):e}(function(e){var t=[],a=[],r=0;for(e.forEach(function(e){if(isNaN(e)){if(e.match(/^[+\-*\/]$/)){for(;y[e]<=r&&"("!==t[t.length-1];)a.push(t.pop()),r=t.length>0?y[t[t.length-1]]:0;t.push(e),r=y[e]}else if("("===e)t.push(e),r=y[e];else if(")"===e){for(;"("!==t[t.length-1]&&t.length>0;)a.push(t.pop());if(0===t.length)return r=0,console.log("\u672a\u627e\u5230\u5339\u914d\u7684\u5de6\u62ec\u53f7"),"\u672a\u627e\u5230\u5339\u914d\u7684\u5de6\u62ec\u53f7";t.pop(),r=y[t[t.length-1]]}}else a.push(e)});t.length>0;){if("("===t[t.length-1])return console.log(t),"\u5269\u4f59\u5de6\u62ec\u53f7";a.push(t.pop())}return console.log(a),a}(e))},L=(a(34),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).generateKeyboard=function(){var e=1;return g.map(function(t){return n.a.createElement("li",{key:e++,className:t.type},t.value)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("ul",{className:"normalKeyLists",onClick:this.props.onclick},this.generateKeyboard()))}}]),t}(n.a.Component)),j=Object(b.b)(null,function(e){return{onclick:function(t){var a=t.target;"li"===a.tagName.toLowerCase()&&e(function(e){if(e.classList.contains("number")){var t=e.innerText;return{type:"CLICK/NUM",data:t}}if(e.classList.contains("math-operator")){var a=e.classList.value.replace(/math-operator/,"").replace(/^\s+|\s+$/g,"");return{type:"CLICK/MATH-OPERATOR",math_type:a}}if(e.classList.contains("operator")){var r=e.classList.value.replace(/operator/,"").replace(/^\s+|\s+$/g,"");return{type:"CLICK/FUNC-OPERATOR",func_type:r}}}(a))}}})(L),w=a(6),k=function(e,t){if(!e)return{str:[],result:"",lastOperatorIsEqual:!1};switch(t.type){case"CLICK/NUM":return"."===t.data&&-1!==e.result.indexOf(".")?e:10===e.result.length?e:e.lastOperatorIsEqual?Object(w.a)({},e,{result:"."===t.data?"0.":t.data,lastOperatorIsEqual:!1}):Object(w.a)({},e,{result:""===e.result&&"."===t.data?"0.":e.result+t.data});case"CLICK/MATH-OPERATOR":var a=e.str;switch(0===a.length&&""===e.result?a.push("0"):""===e.result?a.pop():a.push(parseFloat(e.result)+""),t.math_type){case"add":return a.push("+"),Object(w.a)({},e,{str:a,result:"",lastOperatorIsEqual:!1});case"minus":return a.push("-"),Object(w.a)({},e,{str:a,result:"",lastOperatorIsEqual:!1});case"divide":return a.push("/"),Object(w.a)({},e,{str:a,result:"",lastOperatorIsEqual:!1});case"multiply":return a.push("*"),Object(w.a)({},e,{str:a,result:"",lastOperatorIsEqual:!1});case"equal":var r=_(e.str);return Object(w.a)({},e,{str:[],result:r,lastOperatorIsEqual:!0});default:return e}case"CLICK/FUNC-OPERATOR":switch(t.func_type){case"clear":return Object(w.a)({},e,{str:[],result:"",lastOperatorIsEqual:!1});case"percent":return""===e.result?e:Object(w.a)({},e,{result:O(.01*parseFloat(e.result)),lastOperatorIsEqual:!1});case"delete":if(""===e.result)return e;var n=e.result.split("");return n.pop(),Object(w.a)({},e,{result:n.join(""),lastOperatorIsEqual:!1});case"toggle":if(""===e.result)return e;var s=0-parseFloat(e.result)+"";return Object(w.a)({},e,{result:s,lastOperatorIsEqual:!1});default:return e}default:return e}},C=(a(35),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).clickLeft=function(){a.setState({e_right:parseInt(a.state.e_right)-10+"px"})},a.clickRight=function(){a.setState({e_right:parseInt(a.state.e_right)+10+"px"})},a.state={e_right:"0px"},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.node_str=document.querySelector(".expression"),this.node_wrap=document.querySelector(".text-wrap"),this.node_right=document.querySelector(".arrow.right"),this.node_left=document.querySelector(".arrow.left")}},{key:"componentWillUpdate",value:function(){this.node_str.offsetLeft>0&&this.node_left.classList.contains("active")&&this.node_left.classList.remove("active"),this.node_wrap.offsetWidth-this.node_str.offsetLeft>this.node_str.offsetWidth&&this.node_right.classList.contains("active")&&this.node_right.classList.remove("active")}},{key:"componentDidUpdate",value:function(){""!==this.props.expression&&this.node_str.offsetWidth>this.node_wrap.offsetWidth&&(this.node_wrap.offsetWidth-this.node_str.offsetLeft+10>this.node_str.offsetWidth?this.node_left.classList.contains("active")||this.node_left.classList.add("active"):this.node_right.classList.contains("active")||this.node_right.classList.add("active"))}},{key:"shouldComponentUpdate",value:function(e,t){return e.expression!==this.props.expression||e.result!==this.props.result||t.e_right!==this.state.e_right}},{key:"render",value:function(){return n.a.createElement("div",{className:"panel"},n.a.createElement("div",{className:"container"},n.a.createElement("span",{className:"left arrow",onClick:this.clickLeft}),n.a.createElement("span",{className:"right arrow",onClick:this.clickRight}),n.a.createElement("div",{className:"text-wrap"},n.a.createElement("div",{className:"child expression",style:{right:"".concat(this.state.e_right)}},this.props.expression))),n.a.createElement("div",{className:"text-wrap"},n.a.createElement("div",{className:"child inputValue"},this.props.result)))}}]),t}(n.a.Component)),N=Object(b.b)(function(e){return{expression:e.str.join(""),result:e.result}})(C),I=a(15),M=Object(I.b)(k),q=(a(36),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).onclick=function(e){var t=e.target;[].forEach.call(t.parentElement.parentElement.querySelectorAll(".cmode"),function(e){e.classList.remove("active")}),t.classList.add("active")},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.hash;console.log(e),document.querySelectorAll(".cmode").forEach(function(t){t.classList.contains(e.replace(/^#\//,""))&&t.classList.add("active")}),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/react-calculator/build"}))}},{key:"render",value:function(){return n.a.createElement(b.a,{store:M},n.a.createElement("div",{className:"App"},n.a.createElement("header",null,"\u7b80\u6613\u8ba1\u7b97\u5668"),n.a.createElement(N,null),n.a.createElement(h.a,null,n.a.createElement("div",null,n.a.createElement("div",{className:"mode"},n.a.createElement(f.a,{to:"/normal"},n.a.createElement("button",{className:"normal cmode",onClick:this.onclick},"\u6807\u51c6")),n.a.createElement("span",null,"|"),n.a.createElement(f.a,{to:"/science"},n.a.createElement("button",{className:"science cmode",onClick:this.onclick},"\u79d1\u5b66"))),n.a.createElement(m.a,null,n.a.createElement(d.a,{path:"/normal",component:j}),n.a.createElement(v.a,{path:"/",exact:!0,to:"/normal"}),n.a.createElement(v.a,{path:"/science",exact:!0,to:"/normal"}))))))}}]),t}(r.Component));l.a.render(n.a.createElement(q,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d5e2f06d.chunk.js.map