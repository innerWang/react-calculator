{"version":3,"sources":["keyboard/view/constants.js","keyboard/view/normal.js","keyboard/Tools.js","keyboard/actions.js","keyboard/actionTypes.js","keyboard/reducer.js","panel/view/panel.js","Store.js","App.js","index.js"],"names":["normalKeyboard","value","type","Normal","generateKeyboard","idx","map","item","react_default","a","createElement","key","className","onClick","this","props","onclick","React","Component","connect","dispatch","e","target","tagName","toLowerCase","node","classList","contains","text","innerText","data","operator","replace","math_type","func_type","handleClick","reducer","state","action","str","result","lastOperatorIsEqual","indexOf","Object","objectSpread","arr","length","push","pop","parseFloat","temp","split","join","Panel","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","clickLeft","setState","e_right","parseInt","clickRight","node_str","document","querySelector","node_wrap","node_right","node_left","offsetLeft","remove","offsetWidth","expression","add","nextProps","nextState","style","right","concat","createStore","App","forEach","parentElement","querySelectorAll","activeLink","window","location","pathname","es","store","panel","BrowserRouter","Link","to","Switch","Route","path","component","Keyboards","Redirect","exact","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.eca1cd91.chunk.js","sourcesContent":["export const normalKeyboard = [\r\n    {value:'CE',type:'operator clear',},\r\n    {value:'%',type:'operator percent',},\r\n    {value:'DEL',type:'operator delete',},\r\n    {value:'÷',type:'math-operator divide',},\r\n    {value:'7',type:'number',},\r\n    {value:'8',type:'number',},\r\n    {value:'9',type:'number',},\r\n    {value:'×',type:'math-operator multiply',},\r\n    {value:'4',type:'number',},\r\n    {value:'5',type:'number',},\r\n    {value:'6',type:'number',},\r\n    {value:'-',type:'math-operator minus',},\r\n    {value:'1',type:'number',},\r\n    {value:'2',type:'number',},\r\n    {value:'3',type:'number',},\r\n    {value:'+',type:'math-operator add',},\r\n    {value:'±',type:'operator toggle',},\r\n    {value:'0',type:'number',},\r\n    {value:'.',type:'number dot',},\r\n    {value:'=',type:'math-operator equal',}\r\n];\r\nexport const scienceKeyboard = [\r\n  {value:'x^2',},\r\n  {value:'x^y',},\r\n  {value:'sin',},\r\n  {value:'cos',},\r\n  {value:'tan',},\r\n  {value:'√',},\r\n  {value:'10^x',},\r\n  {value:'log',},\r\n  {value:'Exp',},\r\n  {value:'Mod',},\r\n  {value:'CE',},\r\n  {value:'DEL',},\r\n  {value:'÷',},\r\n  {value:'π',},\r\n\r\n];\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {normalKeyboard} from './constants.js';\r\nimport { handleClick }from '../Tools.js'\r\nimport './style.css';\r\n\r\nclass Normal extends React.Component {\r\n\r\n  generateKeyboard = ()=>{\r\n    let idx = 1;\r\n    return normalKeyboard.map((item) => {\r\n      return (\r\n        <li key={idx++} className={item.type}>\r\n          {item.value}\r\n        </li>\r\n      );\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <ul className=\"normalKeyLists\" onClick={this.props.onclick}>\r\n          {this.generateKeyboard()}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onclick: (e)=>{\r\n      let target = e.target;\r\n      if(target.tagName.toLowerCase()==='li'){\r\n        dispatch(handleClick(target));\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(Normal);","import * as actions from './actions.js';\r\n\r\nexport const handleClick = (node)=>{\r\n  if(node.classList.contains('number')){\r\n\r\n    let text= node.innerText;\r\n    return actions.num(text);\r\n\r\n  }else if(node.classList.contains('math-operator')){\r\n\r\n    let operator = node.classList.value.replace(/math-operator/,'').replace(/^\\s+|\\s+$/g,'');\r\n    return actions.math(operator);\r\n\r\n  }else if(node.classList.contains('operator')){\r\n\r\n    let operator = node.classList.value.replace(/operator/,'').replace(/^\\s+|\\s+$/g,'');\r\n    return actions.func(operator);\r\n    \r\n  }\r\n}\r\n\r\nconst toPostFixArr = (inFixArr) =>{\r\n  let operatorArr = [];\r\n  let postFixArr = [];\r\n  let temp = '';\r\n\r\n\r\n\r\n  return postFixArr;\r\n\r\n}\r\n\r\n\r\nconst calPostFixArr = (postFixArr)=>{\r\n\r\n}\r\n\r\nexport const calInFixExpression = (inFixArr)=>{\r\n  let postFixArr = toPostFixArr();\r\n  return  calPostFixArr(postFixArr);\r\n}\r\n\r\n\r\n\r\n\r\n","import * as actionTypes from './actionTypes.js';\r\n\r\n\r\nexport const math = (math_type)=>({\r\n  type: actionTypes.CLICK_MATH_OPERATOR,\r\n  math_type\r\n})\r\n\r\nexport const num = (data)=> ({\r\n  type: actionTypes.CLICK_NUM,\r\n  data\r\n})\r\n\r\nexport const func = (func_type)=> ({\r\n  type: actionTypes.CLICK_FUNC_OPERATOR,\r\n  func_type\r\n})\r\n","export const  CLICK_NUM = \"CLICK/NUM\";\r\nexport const CLICK_MATH_OPERATOR = \"CLICK/MATH-OPERATOR\";\r\nexport const CLICK_FUNC_OPERATOR = \"CLICK/FUNC-OPERATOR\";","import * as actionTypes from './actionTypes.js';\r\n\r\nconst reducer = (state,action)=>{\r\n  if(!state) return {str:[],result:'',lastOperatorIsEqual:false};\r\n  switch(action.type){\r\n    case actionTypes.CLICK_NUM:{\r\n      if((action.data === '.') && (state.result.indexOf('.') !== -1)) return state;\r\n      if(!state.lastOperatorIsEqual){\r\n        return {\r\n          ...state,\r\n          result : state.result === '' && action.data === '.'?'0.':(state.result+action.data),\r\n        };\r\n      }else{\r\n        return {\r\n          ...state,\r\n          result: action.data==='.'?'0.':action.data,\r\n          lastOperatorIsEqual:false\r\n        }\r\n      }\r\n      \r\n    }\r\n    case  actionTypes.CLICK_MATH_OPERATOR:{\r\n      let arr = state.str;\r\n      if(arr.length === 0){\r\n        arr.push('0')\r\n      }else if(state.result === ''){\r\n        arr.pop();\r\n      }else{\r\n        arr.push(parseFloat(state.result)+'')\r\n      }\r\n      switch(action.math_type){\r\n        case 'add':{\r\n          arr.push('+');\r\n          return {\r\n            ...state,\r\n            str: arr ,\r\n            result:'',\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        case 'minus':{\r\n          arr.push('-');\r\n          return {\r\n            ...state,\r\n            str: arr ,\r\n            result:'',\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        case 'divide':{\r\n          arr.push('/');\r\n          return {\r\n            ...state,\r\n            str: arr ,\r\n            result:'',\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        case 'multiply':{\r\n          arr.push('*');\r\n          return {\r\n            ...state,\r\n            str: arr ,\r\n            result:'',\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        case 'equal':{\r\n          let temp = '0'\r\n          // 将 str 转为 后缀表达式\r\n          // 计算后缀表达式的值\r\n          // 赋值temp\r\n          return {\r\n            ...state,\r\n            str:[],\r\n            result:temp,\r\n            lastOperatorIsEqual:true\r\n          }; \r\n        }\r\n        default:return state;\r\n      }\r\n    }\r\n    case actionTypes.CLICK_FUNC_OPERATOR:{\r\n      switch(action.func_type){\r\n        case 'clear':{\r\n          return {\r\n            ...state,\r\n            str:[],\r\n            result:'',\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        case 'percent':{\r\n          if(state.result === '') return state;\r\n          return {\r\n            ...state,\r\n            result: parseFloat(state.result) * 0.01+'',\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        case 'delete':{\r\n          if(state.result === '') return state;\r\n          let temp = state.result.split('');\r\n          temp.pop();\r\n          return {\r\n            ...state,\r\n            result:temp.join(''),\r\n            lastOperatorIsEqual:false\r\n          }\r\n        }\r\n        case 'toggle':{\r\n          if(state.result === '') return state;\r\n          let temp = (0-parseFloat(state.result))+'';\r\n          return {\r\n            ...state,\r\n            result:temp,\r\n            lastOperatorIsEqual:false\r\n          };\r\n        }\r\n        default:return state;\r\n      }\r\n    }\r\n    default:return state;\r\n  }\r\n}\r\n\r\n\r\nexport default reducer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './style.css'\r\n\r\nclass Panel extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      e_right: '0px'\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.node_str = document.querySelector('.expression');\r\n    this.node_wrap = document.querySelector('.text-wrap');\r\n    this.node_right =  document.querySelector('.arrow.right');\r\n    this.node_left =  document.querySelector('.arrow.left');\r\n  }\r\n\r\n  componentWillUpdate(){\r\n    if(this.node_str.offsetLeft > 0){\r\n      if(this.node_left.classList.contains('active')){\r\n        this.node_left.classList.remove('active');\r\n      }\r\n    }\r\n    if(this.node_wrap.offsetWidth - this.node_str.offsetLeft > this.node_str.offsetWidth ){\r\n      if(this.node_right.classList.contains('active')){\r\n        this.node_right.classList.remove('active');\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    if(this.props.expression !== ''){\r\n      //offsetWidth 包括边框，clientWidth不包括边框\r\n      if(this.node_str.offsetWidth > this.node_wrap.offsetWidth){\r\n        if(this.node_wrap.offsetWidth - this.node_str.offsetLeft +10 >this.node_str.offsetWidth ){\r\n          if(!this.node_left.classList.contains('active')){\r\n            this.node_left.classList.add('active');\r\n          }\r\n        }else{\r\n          if(!this.node_right.classList.contains('active')){\r\n            this.node_right.classList.add('active');\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (nextProps.expression !== this.props.expression) ||\r\n           (nextProps.result !== this.props.result) ||\r\n           (nextState.e_right !== this.state.e_right);\r\n  }\r\n\r\n  clickLeft = () => {\r\n    this.setState({\r\n      e_right: (parseInt(this.state.e_right)- 10)+'px'\r\n    })\r\n  }\r\n\r\n  clickRight = ()=> {\r\n    this.setState({\r\n      e_right: (parseInt(this.state.e_right)+ 10)+'px'\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"panel\">\r\n        <div className=\"container\">\r\n          <span className=\"left arrow\" onClick={this.clickLeft}></span>\r\n          <span className=\"right arrow\" onClick={this.clickRight}></span> \r\n          <div className=\"text-wrap\">   \r\n            <div className=\"child expression\" style={{right: `${this.state.e_right}`}}>{this.props.expression}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-wrap\"> \r\n          <div className=\"child inputValue\">{this.props.result}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n  return ({\r\n    expression: state.str.join(''),\r\n    result: state.result\r\n  })\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(Panel);\r\n","import {createStore} from 'redux';\r\n\r\nimport {reducer} from './keyboard/'\r\n\r\nexport default createStore(reducer);\r\n\r\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link,Redirect,Switch } from \"react-router-dom\";\nimport {Provider}  from 'react-redux';\nimport * as Keyboards from './keyboard/';\nimport {Panel} from './panel/';\nimport store from './Store.js';\n\nimport './App.css';\n\nclass App extends Component {\n\n  onclick = (e)=>{\n    let target = e.target;\n    [].forEach.call(target.parentElement.parentElement.querySelectorAll('.cmode'),node=>{\n      node.classList.remove('active');\n    });\n    target.classList.add('active');\n  }\n\n  componentDidMount(){\n    const activeLink = window.location.pathname;\n    document.querySelectorAll('.cmode').forEach((node)=>{\n      if(node.classList.contains(activeLink.replace(/^\\//,''))){\n        node.classList.add('active');\n      }\n    })\n  }\n\n  render() {\n    return (\n      <Provider store = {store}>\n        <div className=\"App\">\n          <header>简易计算器</header>\n          <Panel/>\n          <Router>\n            <div>\n              <div className=\"mode\">\n                <Link to=\"/normal\"><button className=\"normal cmode\" onClick={this.onclick}>标准</button></Link>\n                <span>|</span>\n                <Link to=\"/science\"><button className=\"science cmode\" onClick={this.onclick}>科学</button></Link>\n              </div>\n              <Switch>\n                <Route path=\"/normal\"   component={Keyboards.Normal} />            \n                <Redirect path=\"/\" exact={true} to=\"/normal\" />\n                <Redirect path=\"/science\" exact={true} to=\"/normal\" />\n              </Switch>\n            </div>\n          </Router>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}